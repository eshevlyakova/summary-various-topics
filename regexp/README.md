# ➖ Регулярные выражения ➖

Они нужны для поиска по тексту, для замены в тексте или для того, чтобы проверить, что текст совпадает с неким шаблоном. 
```javascript
const regexp = new RegExp('шаблон', 'флаги')
```
Это конструктор, которые принимает две строки. Можно и другим способом написать регулярное выражение:
```javascript
const regexp = /шаблон/флаги
```
Если внутри регулярного выражения используется слеш|обратный слеш, то его необходимо экронировать. 

У строк есть специальный метод `.match()`, который позволяет находить совпадения в тексте. В качестве параметра он принимеат регулярное выражение и возвращает результат:
```javascript
const str = 'Всем привет, меня зовут Игорь!';

str.match(/Игорь/) // вернется найденное слово, на какой позиции регулярное выражение его нашло и весь текст
```
. - в регулярных выражениях, это любой символ, кроме переноса строки (\n).

**Символьные классы** - это классы, которые объединяют группу символов. К примеру `\d` - это цифры от 0 до 9:
```javascript
const str = 'Мне 23 года';

str.match(/\d\d/) // ["23", 4, "Мне 23 года"]
```

```javascript
str.match(/[ИЮ]ра/)
```
Это называется набор, что означает любой символ из квадратных скобок. Символьные классы - это тоже своего рода наборы, просто записываются немного короче.
Также есть исключающий набор - `[^ab]`, как можно понять по названию это инверсия набора.

Диапозон - `[в-д]` - ищет символы в заданном промежутке, в текущем примере в ,г, д. Можно указывать несколько диапозонов:

`[а-ве-ж]` - от "а" до "б" и от "е" до "ж". Есть также исключающий диапозон. 

Квантификатор - это специальный ограничитель, который указывает количество возможных повторений символа, группы символов или класса символов, находящихся в регулярном выражении перед ним. Пример: 
```javascript
/d{2}/ // 'd' повторится 2 раза
```

Они делятся на два типа - жадные и ленивые. Жадные стараются наибольшее количество раз повторить: 
```javascript
{n, m} // повторить от m до n раз
```

Ленивые стараются минимальное количество раз повторить:
```javascript
{n, m}? // повторить от n до m раз
```
```javascript
/{3,}/ // повторить от 3 до бесконечности
```
Есть так же еще такой квантификатор:
```javascript
const str1 = 'What color in the cat?';
const str2 = 'What colour in the cat?';

str1.match(/colou?r/) // color
str2.match(/colou?r/) // colour
```
В данном случае знак "?" обозначает повторить от 0 до 1 раза. Квантификатор "*" старается захватить от 0 до бесконечности (жадный):
```javascript
const str = '0123456789';

str.match(/\d*/) // 0123456789
```
Чтобы сделать этот квантификатор ленивым, нужно после * поставить "?", и тогда будет захватываться 0 цифр.

Следующий квантификатор - это "+" - от 1 до бесконечности:
```javascript
const str = '0123456789';

str.match(/\d+/) // 0123456789 (жадный)
str.match(/\d+?/) // 0 (ленивый)
```

Методы строк для работы с регулярным выражением:
- .split() - разбвает строку на массив подстрок
- .search() - выполняет поиск первого совпадения регулярному выражению, если метод ничего не нашел, то возвращает -1

```javascript
const str = 'a/nb';

str.match(/./) // a
str.match(/./g) // a,b 
```
С флагом `g` JavaScript ище все совпадения, без него - только первое. Флаг `s` включает режим dotall, при котором `.` может соответствовать символу переноса строки. Флаг `i` обозначает регистронезависимый. Флаг `y` говорит, что необходимо произвести поиск на заданной позиции lastIndex и дальше не искать. Флаг `u` - поддержка юникода и юникодных символов `/p{}`. Флаг `m` обозначает многострочный поиск.

Якоря в регулярных выражениях указывают на начало или конец чего-либо. Список якорей:
- `^` – начало текста или строки, если есть флаг `m`
- `$` – конец текста или строки, если есть флаг `m`
- `\b` – граница слова
- `\B` - не граница слова

```javascript
str.match(/^[^\s]+/gm) // будет искать первое слово каждой строки
```
`()` - скобочная группа. У такого выделения есть два эффекта:
- Позволяет поместить часть совпадений в отдельный массив
- Если после скобок установлен квантификатор, то он будет применяться ко всему содержимому скобки

`(?:)` - скобочная группа исключенная из запоминания. `\N` — обратная ссылка в шаблоне, где N - номер скобочной группы.  `(?<name>)` - именованная скобочная группа. `\k<name>` - обратная ссылка в шаблоне.

```javascript
str.replace(regexp, "") // в качестве первого параметра то, что найти. А в качестве второго параметра, то на что заменить
```
Метод replace имеет ряд встроенных спецсимволов:
- `$&` - вставляет все найденное совпадение
- $` - вставляет часть строки до совпадения
- `$'` - вставляет часть строки после совпадения
- `$N` - обратная ссылка в шаблоне, где N - номер скобочной группы

В качестве второго параметра метода replace можно передавать функцию, которая принимает: 
1) найденное совпадение
2) скобочная группа 1
3) скобочная группа 2
4) позиция, на которой было найдено совпадение
5) вся исходная строка
6) свойство для именованных скобочных групп
